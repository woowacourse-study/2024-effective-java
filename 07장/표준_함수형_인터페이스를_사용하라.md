> ì‘ì„±ì: í”„ëŒ
> ì‘ì„±ì¼ì‹œ: 2024.05.24

## í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤
ìë°”8ë¶€í„° ëŒë‹¤ë¥¼ ì§€ì›í•˜ë©´ì„œ APIë¥¼ ì‘ì„±í•˜ëŠ” ëª¨ë²” ì‚¬ë¡€ê°€ í¬ê²Œ ë³€í•˜í•˜ì˜€ë‹¤.

ì˜ˆë¥¼ ë“¤ìë©´, ì¤‘ë³µ ì½”ë“œë¥¼ ì¤„ì´ê³ , OCPë¥¼ ì¤€ìˆ˜í•˜ê¸° ìœ„í•œ í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ì˜ ì‚¬ìš©ë„ í¬ê²Œ ì¤„ì¼ ìˆ˜ ìˆë‹¤.


LinkedHashMapì˜ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.
ì‹¤ì œ Mapì— ì›ì†Œë¥¼ ì¶”ê°€í•  ë•Œ íŠ¹ì • í¬ê¸°ë§Œí¼ë§Œ ìœ ì§€í•˜ê³  ì˜¤ë˜ëœ ì›ì†ŒëŠ” ì‚­ì œí•˜ëŠ” ì½”ë“œê°€ ì•„ë˜ì— ìˆë‹¤. 

ì½”ë“œëŠ” í…œí”Œë¦¿ ë©”ì„œë“œë¡œ êµ¬í˜„ ë˜ì–´ ìˆë‹¤.
ë¨¼ì¡° ì½”ë“œë¥¼ ì‚´í´ë³´ê³ ,  í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¡œ ê°œì„ í•´ë³´ì! 


ğŸ˜Š**ì‹¤í—˜ëŒ€ìƒ**ğŸ˜Š
```java
  
public class LinkedHashMap<K,V> {
	public LinkedHashMap(int initialCapacity) {  
	    super(initialCapacity);  
	    accessOrder = false;  
	}
	
	// ìƒëµ ...
	void afterNodeInsertion(boolean evict) { // possibly remove eldest  
    LinkedHashMap.Entry<K,V> first;  
	    if (evict && (first = head) != null && removeEldestEntry(first)) {  
	        K key = first.key;  
	        removeNode(hash(key), key, null, false, true);  
	    }  
	}
	// ìƒëµ ... 
  
	protected boolean removeEldestEntry(Map.Entry<K,V> eldest) {  
	    return false;  
	}
	// ìƒëµ ... 
}
```

ğŸ˜…**í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´ ì˜ˆì‹œ**ğŸ˜…
ë„ˆë¬´ ë‚˜ë„ ë‹¹ì—°í•œ ì´ì•¼ê¸° ì´ì§€ë§Œ, ìƒì†ì„ í†µí•œ LinkedHashMap ìºì‹± ì‚¬ë¡€ì…ë‹ˆë‹¤.

```java
class TemplateMethodLinkedHashMap extends LinkedHashMap<String, Integer> {

	private static final int MAX_ENTRIES = 100;

	@Override
	protected boolean removeEldestEntry(Map.Entry eldest) {
		return size() > MAX_ENTRIES;
	}

}
```

ğŸ‘**í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ì ìš©**ğŸ‘

ì´ë ‡ê²Œ ëœë‹¤ë©´ ì–´ë–¤ê°€ìš”? ìƒˆë¡œìš´ ì‚­ì œ ì „ëµì´ ìƒê¸´ë‹¤ í•˜ë”ë¼ë„ ì½”ë“œ ìƒì„±ì—†ì´ ì™¸ë¶€ì—ì„œ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ ë§ëŠ” ëŒë‹¤ì‹ë§Œì„ ì œê³µí•˜ë©´ ë©ë‹ˆë‹¤.

```java
@FunctionalInterface
public interface RemovalFunction<K, V> {
    boolean remove(Map<K, V> map, Map.Entry<K, V> eldest);
}


class FunctionalLinkedHashMap extends LinkedHashMap<String, Integer> {

    private final RemovalFunction<String, Integer> removalFunction;

    FunctionalLinkedHashMap(RemovalFunction<String, Integer> removalFunction) {
        this.removalFunction = removalFunction;
    }

    @Override
    protected boolean removeEldestEntry(Map.Entry<String, Integer> eldest) {
        return removalFunction.remove(this, eldest);
    }
}
```

ê·¸ëŸ°ë° , ë‹¤ë“¤ ì—¬ê¸°ì„œ ì˜ë¬¸ì´ ë“¤ì§€ ì•Šë‚˜ìš”? êµ³ì´ BiPredicateì´ ìˆëŠ”ë°, ì™œ RemovalFunctionì„ ì •ì˜í•´ì•¼í•˜ë‚˜ í•˜ëŠ” ê²ƒì´ì£ .. ë§ìŠµë‹ˆë‹¤. ìë°”ì—ì„œ ì§€ì›í•˜ëŠ” í‘œì¤€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ëŠ” 43ê°œë‚˜ ìˆê¸° ë•Œë¬¸ì— ì™ ë§Œí•œ ìƒí™©ì€ ëª¨ë‘ ì»¤ë²„ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```java
class BiPredicateLinkedHashMap extends LinkedHashMap<String, Integer> {

	    private final BiPredicate<Map<String, Integer>, Map.Entry<String, Integer>> removalBiPredicate;

    BiPredicateLinkedHashMap(BiPredicate<Map<String, Integer>, Map.Entry<String, Integer>> removalBiPredicate) {
        this.removalBiPredicate = removalBiPredicate;
    }

    @Override
    protected boolean removeEldestEntry(Map.Entry<String, Integer> eldest) {
        return removalBiPredicate.test(this, eldest);
    }
}
```

**ğŸ˜—í´ë¼ì´ì–¸íŠ¸ ì½”ë“œğŸ˜—**
```java
BipredicateLinkedHashMap map = new BipredicateLinkedHashMap((map, eldest) -> map.size > 100); 
```
## ìì£¼ ì‚¬ìš©ë˜ëŠ” í‘œì¤€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤

| ì¸í„°í˜ì´ìŠ¤              | í•¨ìˆ˜ ì‹œê·¸ë‹ˆì²˜             | ì˜ˆ                   |
| ------------------ | ------------------- | ------------------- |
| UnaryOperator\<T>  | T apply(T t)        | String::toLowerCase |
| BinaryOperator\<T> | T apply(T t1, T t2) | BigInteger::add     |
| Predicate\<T>      | boolean test(T t)   | Collection::isEmpty |
| Function\<T>       | R apply(T t)        | Array::asList       |
| Supplier\<T>       | T get()             | Instant::now        |
| Consumer\<T>       | void accept(T t)    | System.out::println |
## ê¸°ë³¸ íƒ€ì… ì¸í„°í˜ì´ìŠ¤
int, long, double 3ê°€ì§€ì˜ ê¸°ë³¸ íƒ€ì… ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•´ì¤€ë‹¤ëŠ” ì‚¬ì‹¤ ì•Œê³  ê³„ì…¨ë‚˜ìš”??

> ì˜ˆì‹œ 1: ToLongFunction // í•œê°œì˜ ì¸ì íƒ€ì…ì„ ë°›ì•„ longìœ¼ë¡œ ë°˜í™˜ <br/>
> ì˜ˆì‹œ 2: LongFunction\<int[]> // longì„ ì¸ìë¡œ ë°›ì•„ int[]ë¥¼ ë°˜í™˜ <br/>
> ì˜ˆì‹œ 3: BooleanSupplier // booleanì„ ë°˜í™˜í•˜ëŠ” supplier <br/>

ì´ëŸ°ì‹ìœ¼ë¡œ íƒ€ì…ì„ ëª…ì‹œì ìœ¼ë¡œ í‘œí˜„í•´ì£¼ëŠ” í‘œì¤€ í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ê¹Œì§€ ì•ì„œ ì–¸ê¸‰í•œê²ƒê³¼ ê°™ì´ 
43ê°œë‚˜ ë©ë‹ˆë‹¤. ë‹¤ ì™¸ìš¸ìˆ˜ ìˆì–´ìš”?? ì—†ìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ìœ„ì˜ ì˜ˆì‹œì™€ ë²”ìš©ì ì´ê³  ì¼ê´€ì ì¸ ë„¤ì´ë°ìœ¼ë¡œ ì´í•´í•˜ê¸° ì‰½ê²Œ ë§Œë“¤ì—ˆìœ¼ë‹ˆ í•„ìš”í• ë•Œë§ˆë‹¤ ì°¾ì•„ ì‚¬ìš©í•©ì‹œë‹¤!!

## ì •ë¦¬
í•¨ìˆ˜í˜• ì¸í„°í˜ì´ìŠ¤ë¥¼ ì˜ ì‚¬ìš©í•˜ì!
